!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.WorleyNoise=factory():root.WorleyNoise=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports){function WorleyNoise(numPoints,seed){this._numPoints=numPoints||0,this._seed=seed||1e4,this._init()}function euclidean(dx,dy){return dx*dx+dy*dy}function manhattan(dx,dy){return Math.abs(dx)+Math.abs(dy)}WorleyNoise.prototype.addPoint=function(x,y){this._points[this._numPoints++]={x:x,y:y}},WorleyNoise.prototype.getEuclidean=function(x,y,k){return Math.sqrt(this._calculateValue(x,y,k,euclidean))},WorleyNoise.prototype.getManhattan=function(x,y,k){return this._calculateValue(x,y,k,manhattan)},WorleyNoise.prototype.getMap=function(resolution,callback){function e(k){return Math.sqrt(that._calculateValue(x*step,y*step,k,euclidean))}function m(k){return that._calculateValue(x*step,y*step,k,manhattan)}var x,y,step=1/(resolution-1),map=[],that=this;for(callback=callback||function(e,m){return e(1)},y=0;resolution>y;++y)for(x=0;resolution>x;++x)map[y*resolution+x]=callback(e,m);return map},WorleyNoise.prototype.getNormalizedMap=function(resolution,callback){var scale,i,map=this.getMap(resolution,callback),min=Number.POSITIVE_INFINITY,max=Number.NEGATIVE_INFINITY;for(i=0;i<map.length;++i)min=Math.min(min,map[i]),max=Math.max(max,map[i]);for(scale=1/(max-min),i=0;i<map.length;++i)map[i]=(map[i]-min)*scale;return map},WorleyNoise.prototype._init=function(){var i;for(this._points=[],i=0;i<this._numPoints;++i){var x=Math.sin(i+1)*this._seed,y=Math.cos(i+1)*this._seed;this._points.push({x:x-Math.floor(x),y:y-Math.floor(y)})}},WorleyNoise.prototype._calculateValue=function(x,y,k,distFn){var minDist,dist,minIdx,i,j;for(i=0;i<this._numPoints;++i)this._points[i].selected=!1;for(j=0;k>j;++j){for(minDist=Number.POSITIVE_INFINITY,i=0;i<this._numPoints;++i)dist=distFn(x-this._points[i].x,y-this._points[i].y),minDist>dist&&!this._points[i].selected&&(minDist=dist,minIdx=i);this._points[minIdx].selected=!0}return minDist},module.exports=WorleyNoise}])});